<!DOCTYPE html>
<html lang="en">

<%- include('layouts/head'); -%>

<body>

    <%- include('layouts/navbar'); -%>

    <!-- Page Header -->
    <header class="masthead" style="background-image: url('img/contact-bg.jpg')">
        <div class="overlay"></div>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-md-10 mx-auto">
                    <div class="page-heading">
                        <h1>Regiser a new account</h1>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-md-10 mx-auto">
                <!-- if errors has a value and the length is greater than one, then
                for each of the errors in the array show them using the bootstrap danger tag -->
                <% if(errors != null && errors.length > 0){ %>
                    <ul class="list-group"></ul>
                   <% for(var i = 0; i < errors.length; i++) { %>
                    <li class="list-group-item list-group-item-danger">
                        <!-- Accessing the looped array item and showing it-->
                        <%= errors[i] %> 
                    </li> 
                <% } %>
                </ul>
            <% } %>  
                <form action="/users/register" method="POST" enctype="multipart/form-data">
                    <div class="control-group">
                        <div class="form-group floating-label-form-group controls">
                            <label>UserName</label>
                            <input type="text" class="form-control" placeholder="UserName" id="username" name="username" 
                            value="<%= username%>">
                            <!-- setting the username and password to what was entered. The fields will persist after the form was submitted and an error was thrown, what was entered will stay in the input fields.-->
                        </div>
                    </div>

                    <div class="control-group">
                        <div class="form-group floating-label-form-group controls">
                            <label>Password</label>
                            <input type="password" class="form-control" placeholder="Password" id="password" name="password" value="<%= password %>">

                        </div>
                    </div>
                    <br>
                    <div id="success"></div>
                    <button type="submit" class="btn btn-primary" id="sendMessageButton">Regsiter</button>
                </form>
            </div>
        </div>
    </div>

    <hr>

    <%- include('layouts/footer'); -%>
    <%- include('layouts/scripts'); -%>

</body>

</html>